//--------------------------------------------------------------------------------//
// Diese Datei enthält alle SWE-spezifische Angaben // h i e r   a n p a s s e n  //
//--------------------------------------------------------------------------------//
apply plugin: 'java'

//================================================================================
// SWE-Eigenschaften
//================================================================================
ext{
    sweJavaVersion='1.8'
    // Status: ZERT, FREI, BETA, PROT, EXPT
    sweStatus='FREI'
    // Version
    sweVersion='V2.1.1'
    // Group
    sweGroup='de.bsvrz.kex'
    // Angabe der Lizenzen für diese SWE, mögliche Werte: "BEIBEHALTEN", "INOVAT", "GPL", "LGPL"
    sweLizenz='GPL'
    // Legt die Main-Klasse für die Erstellung des Manifests fest
    sweMainClass='main.klasse.nicht.Definiert'
}

//================================================================================
// Dependencies
//================================================================================
//--------------------------------------------------------------------
// Angabe der benötigten globalen Libs für diese SWE:
// - für dependencies
// - für ClassPath in der Manifest-Datei
// - für Distribution
// (Variablen können leer sein, aber müssen definiert werden)
//--------------------------------------------------------------------
// Pfad zu libGlobal
def libGlobalPfad='D:/PE/SWE-Gesamt/lib/global/'
ext {
    // Angabe der Dateien, die in die Distribution kopiert werden sollen
    // (alle Daten aus pfad/dir werden in Distribution/lib/dir kopiert):
    sweLibGlobalDistr = [
            //[pfad: libGlobalPfad, dir: 'global.junit']
     ]
    // Angabe der jar-Dateien für repositories, dependencies und Manifest
    sweLibGlobal = [
            //[dir: 'global.junit', name: 'junit-4.8.1']
     ]
}
//--------------------------------------------------------------------
// Repos für Dependencies (für Compile)
//--------------------------------------------------------------------
repositories {
    // libExtern:
    maven {
        url 'file://D:/KM/MavenRepo'
    }
    // libGlobal:
    if(!sweLibGlobal.empty){
        flatDir{
            name 'RepoLibGlobal'
            sweLibGlobal.each{
                lib -> dirs "${libGlobalPfad}${lib.dir}"
            }
        }
    }
}

//--------------------------------------------------------------------
// Abhängigkeiten
//
// Wichtig: Compile-Angaben unbedingt wie folgt definieren:
// compile group: 'xxx', name: 'yyy'...
// Solche Angaben erlauben ClassPath für Manifest zu ermitteln
// (im Manifest wird 'name' verwendet).
//--------------------------------------------------------------------
dependencies {
    //------
    // Source:
    // libGlobal:
    sweLibGlobal.each{
        lib -> compile group: '', name: lib.name
    }
    // libExtern:
    compile group: 'libExtern', name: 'de.bsvrz.dav.daf', version: '+'
    compile group: 'libExtern', name: 'de.bsvrz.sys.funclib.debug', version: '+'
    compile group: 'libExtern', name: 'de.bsvrz.sys.funclib.commandLineArgs', version: '+'
    compile group: 'libExtern', name: 'de.bsvrz.sys.funclib.concurrent', version: '+'
    compile group: 'libExtern', name: 'de.bsvrz.sys.funclib.hexdump', version: '+'
    compile group: 'libExtern', name: 'de.bsvrz.kex.tls.osi2osi3', version: '+'
    compile group: 'libExtern', name: 'de.bsvrz.pat.onlprot', version: '+'
    //------
    // Test:
    testCompile group: 'libExtern', name: 'junit-4.8.1', version: '+'
    testCompile group: 'libExtern', name: 'de.bsvrz.sys.funclib.application', version: '+'
}

//================================================================================
// Andere Angaben
//================================================================================
//--------------------------------------------------------------------
// Source
//--------------------------------------------------------------------
sourceSets {
    main {
        resources {
            exclude { 'nichtVorhanden.txt' }
        }
    }
    test {
        resources {
            exclude { 'nichtVorhanden.txt' }
        }
    }

}
//--------------------------------------------------------------------
// Import der build-swe.gradle
//--------------------------------------------------------------------
apply from: 'D:/SE/SWE/de.inovat.build.gradle/v.1.0/build-swe.gradle'
//--------------------------------------------------------------------
